<h3 class="tutorial-panel-header">Modify a tutorial (id: {{tutorial.tutorialId}})</h3>

<div class="title-input">
    <material-input required
                    floatingLabel
                    [(ngModel)]="tutorial.title"
                    label="Title"
                    type="text">
    </material-input>
</div>
<div class="tutorial-textarea-header">
    <div class="textarea-header-desc"><div>Description</div></div>
    <div class="textarea-header-source"><div>Initial Source Code</div></div>
</div>
<div class="tutorial-editor">
    <textarea class="tutorial-desc-editor CodeMirror-scroll"
              placeholder="Description of the tutorial goes here. Use the Markdown syntax."></textarea>
    <textarea class="tutorial-source-editor CodeMirror-scroll"
              placeholder="The initial code the user is given goes here"></textarea>
</div>
<div class="submit-tutorial-box">
    <material-button class="submit-btn" raised (trigger)="openUpdateModal()">
        Update
    </material-button>
    <material-button class="delete-btn" raised (trigger)="openDeleteModal()">
        Delete
    </material-button>
</div>

<modal [visible]="confirmTutorialUpdate && validatedInput"
       (dismiss)="confirmTutorialUpdate = false">
    <material-dialog>
        <div header><h3>Update the tutorial?</h3></div>
        <p>Note that changes made to the tutorial are irreversible.</p>
        <div footer>
            <material-button class="btn-cancel" (trigger)="confirmTutorialUpdate = false">Cancel</material-button>
            <material-button class="btn-confirm" (trigger)="confirmTutorialUpdate = false; onUpdateTutorial()">Confirm</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="confirmTutorialUpdate && !validatedInput"
       (dismiss)="confirmTutorialUpdate = false">
    <material-dialog>
        <div header><h3>Invalid input</h3></div>
        <p>All the fields are required to be completed.</p>
        <div footer>
            <material-button class="btn-confirm" (trigger)="confirmTutorialUpdate = false">OK</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="successUpdate == true"
       (dismiss)="successUpdate = null">
    <material-dialog>
        <div header><h3>Success!</h3></div>
        <p>Tutorial has been successfully updated.</p>
        <div footer>
            <material-button class="btn-confirm" (trigger)="successUpdate = null">OK</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="successUpdate == false"
       (dismiss)="successUpdate = null">
    <material-dialog>
        <div header><h3>Something went wrong!</h3></div>
        <p>Unfortunately, tutorial could not be updated.</p>
        <div footer>
            <material-button class="btn-confirm" (trigger)="successUpdate = null">OK</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="confirmTutorialDeletion"
       (dismiss)="confirmTutorialDeletion = false">
    <material-dialog>
        <div header><h3>Delete the tutorial?</h3></div>
        <p>Once the tutorial is deleted, it cannot be restored. Are you sure you want to continue?</p>
        <div footer>
            <material-button class="btn-cancel" (trigger)="confirmTutorialDeletion = false">Cancel</material-button>
            <material-button class="btn-confirm-delete" (trigger)="confirmTutorialDeletion = false; onDeleteTutorial()">Confirm</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="successDelete == true"
       (dismiss)="successDelete = null">
    <material-dialog>
        <div header><h3>Success!</h3></div>
        <p>Tutorial has been successfully deleted.</p>
        <div footer>
            <material-button class="btn-confirm" (trigger)="successDelete = null">OK</material-button>
        </div>
    </material-dialog>
</modal>

<modal [visible]="successDelete == false"
       (dismiss)="successDelete = null">
    <material-dialog>
        <div header><h3>Something went wrong!</h3></div>
        <p>Unfortunately, tutorial could not be deleted.</p>
        <div footer>
            <material-button class="btn-confirm" (trigger)="successDelete = null">OK</material-button>
        </div>
    </material-dialog>
</modal>
